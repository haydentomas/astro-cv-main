---
import BaseLayout from '../../layouts/SingleProject.astro';
import Bio from '../../components/Bio.astro';
import getPostData from '../../utils/getPostData';

export async function getStaticPaths() {
  const posts = await Astro.glob('../../data/project-posts/*.md');
  return posts.map(p => ({
    params: { slug: p.file.split('/').pop().split('.').shift() },
    props: { post: p },
  }));
}

const { Content, frontmatter } = Astro.props.post;

const { title, description, publishDate, thumbnail, icons, boxes } = frontmatter
const { slug, readingTime } = getPostData(Astro.props.post);
const permalink = `${Astro.site.href}projects/${slug}`;
---

<BaseLayout title={title} description={description} permalink={permalink} current="projects">
    <svg class="relative z-10 w-16 mb-12 text-yellow-300 transform opacity-100 fill-current sm:w-20 -rotate-0 rotate rotate-3" data-primary="yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 46"><defs/><g  fill-rule="nonzero"><path d="M46.651 2.666c1.892-.812 1.06-1.401-1.337-1.81A4.827 4.827 0 0044.323 0a3.914 3.914 0 00-.614.64C34.376-.395 11.639.36 8.676 1.976 6.99 1.437 1.364 9.542.344 13.552c-.436.1-.436.632-.12 1.487a.84.84 0 00.1.28v-.05a2.8 2.8 0 00.247.668h.06c2.814 5.749 14.356 19.796 15 20.673l-.149-.158c2.418 2.587 3.963 5.547 6.291 8.17 2.626 2.213 3.478 1.437 3.399-.065 2.784-1.171 3.289-3.73 4.775-5.655 5.608-7.904 14.742-14.651 19.498-22.763a2.347 2.347 0 00-.09-.575c1.725-2.429-.296-9.018-2.704-12.898zM38.25 24.093c-4.38 5.863-12.355 11.432-13.693 18.15-.33-.903-.903-1.75-1.684-2.493C15.987 31.616 10.4 22.828 3.088 14.931c3.101-1.997 3.636-6.021 5.469-8.615l-.09.187.199-.41-.06.13.08-.151c.31-1.051.463-2.123.455-3.198.876.312 1.796.553 2.745.719 10.333-.633 20.805-.144 31.129-.417.198 1.71 1.387 3.514 1.982 5.094 0-.057 0-.122-.08-.18 1.11 2.243.803 4.937 2.616 6.92-2.953 1.337-8.342 8.048-9.283 9.083zM7.5 14.505v-.01.01z"/><path d="M9.567 12.925c-.022.243.175.468.486.556 0 .065.05.13.08.094l.139-.05h.069c-1.015.233-1.858.754-2.341 1.445.908.243 1.84.436 2.787.578.208.5.484.985.824 1.445v.094-.036c.387.607.763 1.214 1.16 1.814v-.072c.516.816.992 1.64 1.548 2.457.555.817 1.13 1.9 1.736 2.782a.241.241 0 01-.05-.08c1.587 2.169 2.599 4.59 4.444 6.635 3.482 2.002-.536-3.874-1.2-4.777-1.101-1.662-2.232-3.324-3.294-5-.892-1.446-1.845-2.892-2.787-4.337-.149-.354-.298-.65-.446-.925 2.975-.152 5.951-.455 8.927-.513 3.849-.145 7.737 0 11.606 0-.466 1.604-.526 4.025-.992 4.85-.387 3.403-3.968 7.096-2.46 10.37.605-.477 1.029-1.06 1.23-1.692 1.21-4.43 3.918-8.99 3.75-13.535 2.579.03 5.159-.045 7.727-.224 3.65-.853 3.134-2.32-.546-2.349h.218c-2.55.05-5.098.058-7.648.05a27.367 27.367 0 00-3.095-5.181.511.511 0 01-.089-.13c-1.408 1.257.308 3.714 1.597 5.304-4.85 0-9.7 0-14.551.217h.218c-2.113.333-5.168.116-7.53.564.165-.11.255-.265.249-.427a.376.376 0 000-.151c2.48-2.212 7.241-8.166 3.115-6.367l-4.88 6.59zm3.68 3.526a.19.19 0 010 .065.285.285 0 010-.08v.015zM11.5 17.505v-.01z"/><path d="M14.499 21.55v-.1a.54.54 0 010 .1zM41.874 10c.462-1.423-.366-2.884-2.197-3.876A.87.87 0 0139.522 6c-1.373.757.287 2.644 1.266 3.49.303.209.671.382 1.086.51zM40.5 9.505v-.01z"/></g></svg>

        <div class="relative z-20">
            <h1 class="text-5xl font-bold leading-tight text-left text-white md:text-6xl lg:text-7xl xl:text-7xl xl:leading-tight">{title}</h1>
            <div class="flex flex-col mt-14 sm:flex-row sm:items-center">
                <p class="text-xl font-normal text-left text-yellow-300" data-primary="yellow-400">CASE STUDY</p>
                <div class="flex mt-5 space-x-1 sm:mt-1 sm:ml-3">
                    <div class="w-10 h-2 bg-yellow-300 rounded-full opacity-100" data-primary="yellow-400"></div>
                    <div class="w-8 h-2 bg-yellow-300 rounded-full opacity-75" data-primary="yellow-400"></div>
                    <div class="w-4 h-2 bg-yellow-300 rounded-full opacity-50" data-primary="yellow-400"></div>
                    <div class="w-3 h-2 bg-yellow-300 rounded-full opacity-25" data-primary="yellow-400"></div>
                    <div class="w-2 h-2 bg-yellow-300 rounded-full opacity-10" data-primary="yellow-400"></div>
                    <div class="w-2 h-2 bg-yellow-300 rounded-full opacity-5" data-primary="yellow-400"></div>
                </div>
            </div>
        </div>





      <section class="relative ">
      
          {(boxes ?? []).map((box, index) => (
  <div class=" mx-auto portfolioblocks pb-20 sm:flex gap-10">
      





            <div class="relative sm:w-1/2">
              <h2 class="mb-5 mt-10  flex  xl:mb-12 text-2xl leading-tight md:text-4xl md:leading-tight xl:text-5xl lg:leading-tight font-bold">
                {box.intro}
              </h2>
             
                {(box.content ?? []).map((item, itemIndex) => (
                  <div class={`mb-0 xl:pr-0 blockset ${itemIndex === box.content.length - 1 ? '' : ''}`}> 
                  
                  <div class="flex mb-6 ">
                        <svg class="w-8 h-8 -mt-0.5 flex-shrink-0 mr-3 xl:mr-5 text-pink-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <div class="">
                            <h3 class="mb-2 -mt-1 text-xl md:text-2xl font-semibold">{item.title}</h3>
                            <p class=" leading-loose">{item.text}</p>
                        </div>
                    </div>
                          
                  </div>
                ))}
              
           
            </div>
            <div class="flex sm:w-1/2">
                <img src={box.image} alt={box.intro} class="rounded-xl bg-gray-800 shadow-lg" />
            </div>
    </div>     
          ))}

<Content />
<section class="relative w-full">
    <div class="absolute bottom-0 left-0 w-full h-1/2"></div>
    <div class="relative py-20 mx-auto ">
        <div class="relative flex flex-col items-center w-full h-full px-10  bg-purple-900 sm:px-12 md:px-16 lg:py-10 rounded-2xl">
            <div class="absolute inset-0 bg-cover" style="background-image:url('/assets/ctashape.svg')"></div>
            <div class="relative flex flex-col items-center justify-between w-full h-full lg:flex-row">
                <h2 class="max-w-lg pt-0 mt-5 mb-5 text-2xl font-semibold text-center  md:leading-tight lg:mb-0 lg:text-left md:text-4xl sm:text-3xl">Start your next project with Hayden Tomas today.</h2>
                <div class="flex flex-col h-auto transform translate-y-2">
                    <a href="#_" class="inline-flex items-start h-auto px-8 py-4  text-center rounded-lg btn bg-white text-slate-900 font-bold">Contact me for a free quote</a>
                    <p class="w-full mt-3 text-sm text-center">All Websites start at only Â£5000 with an <br />option to pay in 3 installments interest free</p>
                </div>
            </div>
        </div>
    </div>
</section>




      </section>




    

  
  </div>


</BaseLayout>

<style>
  header {
    text-align: center;
  }

  header h1 {
    margin-bottom: 0.7em;
  }

  header p {
    color: var(--text-secondary);
    text-transform: uppercase;
    font-family: var(--font-family-sans);
    font-weight: 600;
  }

  header hr {
    min-width: 100px;
    width: 30%;
  }

  @media only screen and (min-width: 1000px) {
   
  .portfolioblocks:nth-child(odd) {
    @apply flex-row-reverse;

  }
  }
 

  .portfolioblocks:nth-child(6) {
   @apply pb-0

  }
</style>
